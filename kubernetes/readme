üîµ 1. Difference between Azure CNI and Kubenet? Which one do you use and why?

This version is easy to understand, professional, and exactly what interviewers expect from an Azure DevOps Engineer.

‚≠ê Interview Answer (Best Version):

In AKS, we have two networking models: Kubenet and Azure CNI, and they differ mainly in how pod IPs are assigned and how the cluster integrates with the VNet.

Kubenet is the basic/legacy option. Nodes get IPs from the Azure VNet, but pods get IPs from an internal Kubernetes network, not from the VNet.
Because pods don't have VNet IPs, any communication from pods to VNet resources (SQL, Storage, APIs, on-prem) goes through SNAT, which creates routing limitations.
Kubenet uses fewer IPs and is good for small clusters but is not suitable for enterprise-grade networking.

Azure CNI, on the other hand, assigns real VNet IPs directly to pods.
This means pods become first-class members of the VNet and can directly communicate with Private Endpoints, on-prem networks, firewalled resources, or internal services without NAT.
It gives better performance, easier troubleshooting, full network visibility, NSG/UDR support, and enterprise security.

I prefer Azure CNI in production because most enterprise workloads need to access Azure PaaS services like SQL, Storage, Key Vault over Private Endpoints, and require secure VNet-level routing.
With CNI, pod traffic flows naturally in the VNet, and we don‚Äôt face SNAT or routing issues like in Kubenet.

‚≠ê Short Summary to Speak at the End

So in simple terms:

Kubenet ‚Üí Overlay network, limited routing, uses fewer IPs

Azure CNI ‚Üí Full VNet integration, pod gets VNet IP, best for enterprise workloads

That‚Äôs why I use Azure CNI for production AKS clusters.

‚≠ê Real Example (You Can Say This in Interview)

In one of my projects, we faced connectivity issues because pods using Kubenet couldn't properly communicate with SQL Private Endpoint.
After moving to Azure CNI, pods received VNet IPs, and Private Endpoint traffic started working smoothly.
This improved both network reliability and security.

‚≠ê If interviewer asks deeper: ‚ÄúAzure CNI uses more IPs‚Äîhow do you manage it?‚Äù

You answer:

Yes, Azure CNI consumes more IPs because each pod gets a VNet IP.
To avoid subnet exhaustion, Azure now provides Azure CNI Overlay, where pods get overlay IPs while nodes use VNet IPs.

This gives the benefits of CNI without large IP requirements.


2. What ingress controllers have you used in AKS?

Explain NGINX vs AGIC and when to use which.**

‚≠ê Interview Answer (Best Version):

In AKS, I have worked with two main ingress controllers:
NGINX Ingress Controller and AGIC (Application Gateway Ingress Controller).

NGINX Ingress Controller runs inside the AKS cluster as a deployment.
It uses an internal Azure Load Balancer or public load balancer to receive traffic.
It‚Äôs lightweight, easy to configure, and suitable for most microservices running on HTTP/HTTPS.

AGIC (Application Gateway Ingress Controller) integrates AKS with Azure Application Gateway.
Application Gateway becomes the data plane and provides enterprise-grade features like:

WAF (Web Application Firewall)

SSL/TLS termination

URL routing

End-to-end TLS

DDoS protection

I choose NGINX for typical microservices where quick deployments and flexibility are required.
I choose AGIC when we need enterprise security, WAF protection, compliance, or advanced Layer 7 features.

| Feature           | NGINX Ingress Controller                  | AGIC (App Gateway Ingress Controller)   |
| ----------------- | ----------------------------------------- | --------------------------------------- |
| Runs Where?       | Inside AKS                                | Azure Application Gateway               |
| WAF Support       | No (unless 3rd party)                     | Yes, built-in WAF                       |
| TLS               | Terminated at NGINX                       | Terminated at App Gateway               |
| Performance       | Very fast                                 | Enterprise-grade, scalable              |
| Path/Host Routing | Yes                                       | Yes                                     |
| Best For          | Microservices, dev/test, simple prod apps | Secure enterprise workloads, compliance |


Private Endpoints in AKS (Important Point)

Private Endpoints are used when the application inside AKS needs to connect securely to Azure PaaS services without going over public internet.

Examples:

Azure SQL

Storage Account

Key Vault

Cosmos DB

With Azure CNI, pods get VNet IPs, so they can directly communicate with these private endpoints using purely internal traffic.
